awk 'NR==FNR{gsub(/\.txt$/, "", $2); a[$2]=$1; next} {gsub(/\.txt$/, "", $1); print $0, ($1 in a ? a[$1] : 0)}' b.txt a.txt > merge.txt
