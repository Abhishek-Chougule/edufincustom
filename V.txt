awk 'NR==FNR{a[$2]=$1;next} {sub(/\.txt$/, "", $2); print $0, ($2 in a ? a[$2] : 0)}' b.txt a.txt > merge.txt
