awk 'NR==FNR{a[$1]=$1;gsub(/\.txt$/, "", $1);next} {for (i in a) {if (index(tolower($0), tolower(i))) {print $0, a[i]; next}} print $0, 0}' b.txt a.txt > merge.txt
