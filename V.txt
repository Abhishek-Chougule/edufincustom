awk 'NR==FNR{a[$2]=<span class="math-inline">1;next\} \{sub\(/\\\.txt</span>/, "", $2); found=0; for (i in a) if (tolower($1) ~ tolower(i) || tolower(i) ~ tolower($1)) {print $0, a[i]; found=1; break} if (found == 0) print $0, 0}' b.txt a.txt > merge.txt
