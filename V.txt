awk 'NR==FNR{a[$2]=$1;next} {sub(/\.txt$/, "", $2); for (i in a) {if (index(tolower($1), tolower(i)) || index(tolower(i), tolower($1))) {print $0, a[i]; next}} print $0, 0}' b.txt a.txt > merge.txt
